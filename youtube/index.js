var e=document.getElementsByTagName("video")[0];function n(e){var n=document.createElement("div");return n.innerHTML=e.trim(),n.firstChild}function t(e){var n=e.match(/^https?\:\/\/(?:www\.youtube(?:\-nocookie)?\.com\/|m\.youtube\.com\/|youtube\.com\/)?(?:ytscreeningroom\?vi?=|youtu\.be\/|vi?\/|user\/.+\/u\/\w{1,2}\/|embed\/|watch\?(?:.*\&)?vi?=|\&vi?=|\?(?:.*\&)?vi?=)([^#\&\?\n\/<>"']*)/i);return!!n&&11==n[1].length&&n[1]}console.log(e),document.getElementsByClassName("ytp-progress-bar-container")[0].appendChild(n('    <div class="main_Rotenx_progress_bar_pen" id="main_Rotenx_progress_bar_pen">\n  <img src="https://devtool-eta.vercel.app/rotenx/images/youtubepen.png" />\n</div>')),document.getElementsByTagName("html")[0].appendChild(n(' <div class="main_Rotenx_Tool_minimize_container" id="main_Rotenx_Tool_minimize_container">\n<p>Roten.x DevTool</p>\n<img src="https://devtool-eta.vercel.app/rotenx/images/uparrow.png" />\n</div>')),document.getElementsByTagName("html")[0].appendChild(n('<div class="main_Rotenx_Tool" id="main_Rotenx_Tool">\n\n  <div class="main_Rotenx_Tool_Header" id="main_Rotenx_Tool_Header">\n      <div class="main_Rotenx_Tool_Heading">\n          \x3c!-- heading --\x3e\n          <h1>Roten.X DevTool</h1>\n      </div>\n      <div class="main_Rotenx_Tool_Menu">\n      <div title="move" class="main_Rotenx_Tool_Menu_Move" id="main_Rotenx_Tool_Menu_Move">\n      </div>\n      <div title="minimize" class="main_Rotenx_Tool_Menu_Minimize" id="main_Rotenx_Tool_Menu_Minimize">\n      </div>\n          <div title="close" class="main_Rotenx_Tool_Menu_Close" id="main_Rotenx_Tool_Menu_Close">\n          </div>\n      </div>\n  </div>\n  <div class="main_Rotenx_Login_contianer" id="main_Rotenx_Login_contianer">\n  <img src="https://devtool-eta.vercel.app/rotenx/images/LoginShowCon2.webp" alt="login" />\n  <p>login your account by clicking Roten.X DevTool Extension</p>\n</div>\n  <div class="main_Rotenx_Tool_Main_Container" id="main_Rotenx_Tool_Main_Container">\n      \n      <div class="main_Rotenx_Tool_Main_Container_Input">\n          \x3c!-- Input --\x3e\n          <div class="main_Rotenx_Tool_Main_Container_Input_Color">\n              \x3c!-- color selection --\x3e\n              <div class="main_Rotenx_Tool_Main_Container_Input_Color_Div">\n                  <p class="main_Rotenx_Tool_Main_Container_Input_Color_Div_p" title="Yellow" data-color="#f4d291" style="background-color:  #f4d291;"><input type="radio"\n                          name="color" id="#f4d291"></p>\n                  <p class="main_Rotenx_Tool_Main_Container_Input_Color_Div_p" title="Gray" data-color="#ADD8E6" style="background-color:  #ADD8E6;"><input type="radio"\n                          name="color" id="#ADD8E6"></p>\n                  <p class="main_Rotenx_Tool_Main_Container_Input_Color_Div_p" title="Pink" data-color="#b19cd9" style="background-color:  #b19cd9;"><input type="radio"\n                          name="color" id="#b19cd9"></p>\n                  <p class="main_Rotenx_Tool_Main_Container_Input_Color_Div_p" title="Orange" data-color="#90ee90" style="background-color:  #90ee90;"><input type="radio"\n                          name="color" id="#90ee90"></p>\n                  <p class="main_Rotenx_Tool_Main_Container_Input_Color_Div_p" title="Green" data-color="#ffcccb" style="background-color:  #ffcccb;"><input type="radio"\n                          name="color" id="#ffcccb"></p>\n                 </div>\n          </div>\n          <div class="main_Rotenx_Tool_Main_Container_Input_Title">\n              \x3c!-- title --\x3e\n              <p id="main_Rotenx_Tool_Main_Container_Input_Title_color" style="background:rgb(244, 210, 145)"></p>\n              <input type="text" readonly name="rotenx_title_input" id="rotenx_title_input">\n          </div>\n          <div class="main_Rotenx_Tool_Main_Container_Input_Desc">\n              \x3c!-- Description --\x3e\n              <textarea type="text" name="Description" rows="5" id="main_Rotenx_Tool_Main_Container_Input_Desc"\n                  placeholder="Enter Description To Your Notes..."></textarea>\n          </div>\n          <div class="main_Rotenx_Tool_Main_Container_Input_Btn">\n              \x3c!-- buttons --\x3e\n              <button class="main_Rotenx_Tool_Main_Container_Input_Btn_close main_Rotenx_Tool_Menu_Close">cancle</button>\n              <button class="main_Rotenx_Tool_Main_Container_Input_Btn_save"  id="main_Rotenx_Tool_Main_Container_Input_Btn_save">save</button>\n          </div>\n      </div>\n  </div>\n</div>')),document.getElementsByTagName("html")[0].appendChild(n('\n<div class="main_Rotenx_selection_container" id="main_Rotenx_selection_container">\n    <p><img src="https://devtool-eta.vercel.app/rotenx/images/edit.svg"></img>\n    <p><img src="https://devtool-eta.vercel.app/rotenx/images/edit.svg"></img>\n</div>')),document.getElementsByClassName("ytp-left-controls")[0].appendChild(n(' <div class="main_Rotenx_pen_tool" id="main_Rotenx_pen_tool_btn_ctrl" title="Roten.x Notes">\n  <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAERElEQVR4nO2be4hVVRSHP0erSVF6SS/tYU/K6F1UVlRgBFZgEZlDRWJ/xEQFmYUUWVBRSH9YZFlhIWhBUiGRWTRgDyxKCCwI7TG9LFPLTCzLiQX7wo/FOXvfSGHW6X5wuMPZv3tZa597195rrT3QoUOHDh06dAjEnvwPuRx4HVgPDACbgeXAZGAIDWZ3YFFyuu56DRhJQ3m2wuFNwF/u3rImfhMmOiefB8aksVHAbGCHjF9DgxgGrBbnXqp5wveJpo8GcbM49htwcI1uL+DvpNsKDKUB7AtskAmYVdD/KtoRNIDHxKEvgO6M9ljR2tLYRXDGA9vFqSsK+qdE+zINYLk49HZBe5JbDs+lAbu9gXSZYycW9H1OP4XA7AGsEYfmFfRXVmyQbDWYRFBmup3e6Iy2OwVHXSZbf38HDCcYB6QI3nLi1oJ+lmjXAeOAr+TeVALv9z8DdstoD3JPfFq6P0PuPUkgTpOdnF2XFPTPifYjWfcny/0lBGEI8I4YvrSgP1OSH3udUPOzmE8QpojRfwDHFCbrfdEvdiuIBsXrCMBwoF+MnlPQ94jWkp5DZOxOGVsfZRWYLUb/mLK6Osyhr0V/r4zt75KhmwjAGGCLGD29oL9ftN+4jG+BjK1OdYRBz2IxelUhhx8L/C76q2XsVLeCWAVp0HO2K2OdX9C/KNr3pCpkryuiLX1dwAdi9AsF/TkyWfakT68JiraCHEUAprlIflhhsj4U/TOZoPggARgJfC9G2yqQY7qr9BxYExTXpQrxoOdhMfrbQu3OJusH0d+RCYrXE4AjgG3/on7/iGjXpp1eVVDUXGBQ80pNJG9nsqxKVBUUd0QpgV3oKjZnFPSviv6tTFBcSACGAp+I0Zb357jI1fhOkLEbM7lAiO7OZhfJPcPcZM2VsVEuKN5DAPYGfhajrebX7mRtBPaTsTky1h8l25ubieSlyeqVsSNdULyKABwH/FkTyUutsE9dTXCpjL0b5QzAG2L0mwXt8a4VphndeW4FOYUAXCZGb0+9vhzLRG/7BWoSnqcJcp7nczH68YL+0kJGZ3HjAeDRKG3vXnFoQ+rztztZliuEpjslOS2Hbinob4+Y0bWbvvYXlj0rZP5S0d0JzQpxyDY1OeZHzOhyHCpZmm1a9sloT5ZCpu/uhOUGeaKWzeX2+ytrujuhWSBO3ZbR3SW6LVEyunZYJY5ZA7OKiW7HV4oTodgojo2u+d1vEk1fEwJfixHi2LaKZOUs5/yXheMv4RgrzlnZ2+8NtrrObSk3CMd4d7yF9IS1/9eaHMv8GscEcXJlal7+5Jz/GDichjLJpb8D7ppXOOsbnp4KpwdS7+7imvccnU51zdyJ14z0uZ6uZGPPrqom9TrHbXv7ROF/eNbWTNp/veykae4BTd3V53vXABe08Z5GTQDAtelsTrvlaqv83A08tBMv+7yqMwL2tTfHrR9Z+RP4BzxvG/yEP33CAAAAAElFTkSuQmCC" alt="notes"/>\n</div>')),document.getElementById("main_Rotenx_Tool_Main_Container_Input_Title_color").style.background="#f4d291",chrome.storage.local.get(["token"],(function(e){if(e.token){console.log(e.token);var n=document.getElementById("main_Rotenx_Tool_Main_Container"),t=document.getElementById("main_Rotenx_Login_contianer");n.style.display="block",t.style.display="none"}else console.log(e.token),n=document.getElementById("main_Rotenx_Tool_Main_Container"),t=document.getElementById("main_Rotenx_Login_contianer"),n.style.display="none",t.style.display="flex"}));var o=null;const i=e=>{o=e;var n=e,t=Math.floor(n/60)+":"+(n%60?n%60:"00").toString().split(".")[0];console.log(n,t);var i=document.getElementById("rotenx_title_input"),l=document.getElementsByTagName("title")[0].innerText;i.value=`${t} | ${l}`,console.log(i.value)};document.getElementById("main_Rotenx_Tool_Main_Container_Input_Btn_save").addEventListener("click",(()=>{(n=>{var o=n,i=(Math.floor(o/60),(o%60?o%60:"00").toString().split(".")[0],document.getElementById("rotenx_title_input").value),l=document.getElementById("main_Rotenx_Tool_Main_Container_Input_Desc").value,a=document.getElementById("main_Rotenx_Tool_Main_Container_Input_Title_color").style.background;let _=e.duration,d=o/_*100;chrome.storage.local.get(["token"],(function(e){if(e.token){var n={userToken:e.token,color:`${a}`,urlCode:t(window.location.href),title:i,description:l,type:"Youtube",time:`${new Date}`,selectedData:{time:o,url:`${window.location.href}`,date:`${(new Date).getDate()}`,percentage:d},image:document.querySelector("meta[property='og:image']").getAttribute("content")};let _=new Headers;_.append("Content-Type","application/json"),_.append("Accept","application/json"),_.append("Access-Control-Allow-Origin","*"),_.append("Access-Control-Allow-Credentials","true"),_.append("GET","POST","OPTIONS"),fetch("https://jade-smoggy-barnacle.cyclic.app/create-notes",{method:"POST",headers:_,body:JSON.stringify(n)}).then((e=>e.json())).then((e=>{e.status&&(InitFetch(),document.getElementById("main_Rotenx_Tool").style.display="none",document.getElementById("main_Rotenx_Tool_Main_Container_Input_Desc").value="")})).catch((e=>{console.error("Error:",e)}))}else console.log("token not found")}))})(o)}));var l=document.getElementById("main_Rotenx_Tool_minimize_container"),a=document.getElementById("main_Rotenx_Tool_Menu_Minimize"),_=document.getElementById("main_Rotenx_pen_tool_btn_ctrl"),d=document.getElementsByClassName("main_Rotenx_Tool_Menu_Close")[0],c=document.getElementsByClassName("main_Rotenx_Tool_Menu_Close")[1];_.addEventListener("click",(()=>{document.getElementById("main_Rotenx_Tool").style.display="block",e.pause(),i(e.currentTime)})),a.addEventListener("click",(()=>{document.getElementById("main_Rotenx_Tool").style.display="none",document.getElementById("main_Rotenx_Tool_minimize_container").style.display="flex"})),l.addEventListener("click",(()=>{document.getElementById("main_Rotenx_Tool_minimize_container").style.display="none",document.getElementById("main_Rotenx_Tool").style.display="block"})),d.addEventListener("click",(()=>{document.getElementById("main_Rotenx_Tool").style.display="none",document.getElementById("main_Rotenx_Tool_minimize_container").style.display="none",document.getElementById("main_Rotenx_Tool_Main_Container_Input_Desc").value=""})),c.addEventListener("click",(()=>{document.getElementById("main_Rotenx_Tool").style.display="none",document.getElementById("main_Rotenx_Tool_minimize_container").style.display="none",document.getElementById("main_Rotenx_Tool_Main_Container_Input_Desc").value=""}));for(var m=document.getElementsByClassName("main_Rotenx_Tool_Main_Container_Input_Color_Div_p"),s=function(){var e=this.getAttribute("data-color");document.getElementById("main_Rotenx_Tool_Main_Container_Input_Title_color").style.background=`${e}`},r=0;r<m.length;r++)m[r].addEventListener("click",s,!1);!function(e){var n=0,t=0,o=0,i=0;function l(e){(e=e||window.event).preventDefault(),o=e.clientX,i=e.clientY,document.onmouseup=_,document.onmousemove=a}function a(l){(l=l||window.event).preventDefault(),n=o-l.clientX,t=i-l.clientY,o=l.clientX,i=l.clientY,e.style.top=e.offsetTop-t+"px",e.style.left=e.offsetLeft-n+"px"}function _(){document.onmouseup=null,document.onmousemove=null}document.getElementById("main_Rotenx_Tool_Menu_Move")?document.getElementById("main_Rotenx_Tool_Menu_Move").onmousedown=l:e.onmousedown=l}(document.getElementById("main_Rotenx_Tool"));var u=document.querySelector(".ytp-progress-bar"),p=document.querySelector("#main_Rotenx_progress_bar_pen"),y=null;p.addEventListener("click",(()=>{p.style.display="none",document.getElementById("main_Rotenx_Tool").style.display="block",e.pause(),i(y)})),u.addEventListener("mousemove",(function(n){setTimeout((()=>{let t=n.offsetX,o=e.offsetWidth,i=e.duration,l=t/o*i;y=l;let a=Number(getComputedStyle(p).height.slice(0,-2));p.style.left=l/i*100+"%",p.style.top=`-${a+10}px`,p.style.display="block"}),0)})),u.addEventListener("mouseout",(function(){setTimeout((()=>{p.style.display="none"}),5e3)}));