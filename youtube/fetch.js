let e=window.location.href;var t=null;function n(){window.location.href!==e&&null!=t&&(t.data.map(((e,t)=>{document.getElementById(`main_Rotenx_progress_bar_dot_item_${e.notes_token}`).remove()})),e=window.location.href),chrome.storage.local.get(["token"],(function(e){if(e.token){var n={urlCode:(o=window.location.href,i=o.match(/^https?\:\/\/(?:www\.youtube(?:\-nocookie)?\.com\/|m\.youtube\.com\/|youtube\.com\/)?(?:ytscreeningroom\?vi?=|youtu\.be\/|vi?\/|user\/.+\/u\/\w{1,2}\/|embed\/|watch\?(?:.*\&)?vi?=|\&vi?=|\?(?:.*\&)?vi?=)([^#\&\?\n\/<>"']*)/i),!(!i||11!=i[1].length)&&i[1]),type:"Youtube",userToken:e.token};let a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),a.append("Access-Control-Allow-Origin","*"),a.append("Access-Control-Allow-Credentials","true"),a.append("GET","POST","OPTIONS"),fetch("https://jade-smoggy-barnacle.cyclic.app/find-notes",{method:"POST",headers:a,body:JSON.stringify(n)}).then((e=>e.json())).then((e=>{e.status&&(console.log(e),t=e,e.data.map(((e,t)=>{var n,o,i=`<div class="main_Rotenx_progress_bar_dot_item" style="left:${e.selectedData.percentage}%;" id="main_Rotenx_progress_bar_dot_item_${e.notes_token}">\n                    <p class="main_Rotenx_progress_bar_dot_item_dot_main" style="background:${e.color}"></p>\n                    <div class="main_Rotenx_progress_bar_dot_item_container" id="main_Rotenx_progress_bar_dot_item_container" style="${Math.ceil(e.selectedData.percentage)>50?"left:-290px;":"right:-5px;"}">\n                        <div class="main_Rotenx_progress_bar_dot_item_container_header"\n                            id="main_Rotenx_progress_bar_dot_item_container_header">\n                            <p id="main_Rotenx_progress_bar_dot_item_container_header_p">Roten.X DevTool</p>\n                            <div class="main_Rotenx_progress_bar_dot_item_container_header_icons"\n                                id="main_Rotenx_progress_bar_dot_item_container_header_icons">\n                                <p title="open link"><img src="https://devtool-eta.vercel.app/rotenx/images/link.svg" /></p>\n                                <p title="edit note"><img src="https://devtool-eta.vercel.app/rotenx/images/edit.svg" /></p>\n                                <p title="delete note"><img src="https://devtool-eta.vercel.app/rotenx/images/delete.svg" /></p>\n                            </div>\n                        </div>\n                        <div class="main_Rotenx_progress_bar_dot_item_container_main"\n                            id="main_Rotenx_progress_bar_dot_item_container_main_${e.notes_token}">\n                            <div class="main_Rotenx_Tool_Main_Container_Input_Title">\n                                \x3c!-- title --\x3e\n                                <p class="main_Rotenx_Tool_Main_Container_Input_Title_color" style="background:${e.color}"></p>\n                                <input type="text" readonly name="rotenx_title_input" value="${e.title}" id="rotenx_title_input_${e.notes_token}">\n                            </div>\n                            <div class="main_Rotenx_Tool_Main_Container_Input_Desc">\n                                \x3c!-- Description --\x3e\n                                <textarea type="text" readonly name="Description" rows="5" id="main_Rotenx_Tool_Main_Container_Input_Desc_${e.notes_token}"\n                                    placeholder="Your Notes Description...">${e.description}</textarea>\n                            </div>\n                        </div>\n                    </div>\n                </div>`;document.getElementsByClassName("ytp-progress-bar-container")[0].append((n=i,(o=document.createElement("div")).innerHTML=n.trim(),o.firstChild))})))})).catch((e=>{console.error("Error:",e)}))}else console.error("login now");var o,i}))}n(),setInterval((()=>{window.location.href!==e&&(t.data.map(((e,t)=>{document.getElementById(`main_Rotenx_progress_bar_dot_item_${e.notes_token}`).remove()})),e=window.location.href,n())}),1e3),window.addEventListener("popstate",(function(){window.location.href!==e&&(t.data.map(((e,t)=>{document.getElementById(`main_Rotenx_progress_bar_dot_item_${e.notes_token}`).remove()})),e=window.location.href,n())}));